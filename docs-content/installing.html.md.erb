---
title: Installing and Configuring PASW
owner: Windows
---

<strong><%= modified_date %></strong>

This topic describes how to install and configure the Pivotal Application Service for Windows (PASW) tile. The PASW tile installs Windows cells in your Pivotal Cloud Foundry (PCF) deployment.

## <a id='ert'></a> Step 1: Confirm Shared PAS Tile Settings

There are two settings in the **Pivotal Application Service** tile that affect the Windows cells installed by the **Pivotal Application Service for Windows** tile. Configure these settings as desired:

* In the **Networking** section, if you select the **Disable SSL certificate verification for this environment** checkbox, SSL certificate verification is disabled for Windows cells.
* In the **System Logging** section, if you configure an external syslog aggregator, logs are drained from Windows cells as well as non-Windows cells.

##<a id='install'></a> Step 2: Install the Tile

1. Download the **Pivotal Application Service for Windows** product file from the product page of [Pivotal Network](https://network.pivotal.io/products/pas-windows).

1. From the same [Pivotal Network](https://network.pivotal.io/products/pas-windows) page, download the **Windows FS Injector** tool for your workstation OS, Windows, Linux, or Mac. The Injector tool is an executable binary `winfs-injector` that adds the Windows Server container base image into the product file. This step requires internet access and can take up to 20 minutes. Note that you will need the `git` and `tar` (BSD) executables on your `%PATH%` in order in order to run the `winfs-injector`. Note, to use the injector on a Windows machine, `winfs-injector.exe`, the included utility, `tar.exe`, must be copied to a folder in your `%PATH%`. For example, `C:\Windows`.

1. Run `winfs-injector` with the following options, replacing `PAS-WINDOWS-DOWNLOADED.pivotal` with the path to the downloaded **PASW** product file and `PAS-WINDOWS-INJECTED.pivotal` with a desired output path for the importable product file:
    <pre class="terminal">
    $ winfs-injector --input-tile PAS-WINDOWS-DOWNLOADED.pivotal \
    --output-tile PAS-WINDOWS-INJECTED.pivotal
    </pre>
  For troubleshooting the `winfs-injector`, see [PAS for Windows File System Injector Troubleshooting](./troubleshooting.html#winfs-injector-issues).

1. Navigate to the Ops Manager Installation Dashboard and click **Import a Product**.

1. Select the importable `PAS-WINDOWS-INJECTED.pivotal` file on your workstation. **PASW** appears in the product list under **Import a Product**.

1. Click **+** under the **PASW** product listing to add it to your staging area.

##<a id='config'></a> Step 3: Configure the Tile

1. Click the newly added **PASW** tile.

    <%= image_tag('pcf-windows-tile-orange.png') %>

1. Click **Assign AZs and Networks** or **Assign Networks**. The name of the section varies depending on your IaaS.

1. Assign your AZs and networks and click **Save**.

1. Click **VM Options**.

    <%= image_tag('vm-options.png') %>

1. Specify how you would like to manage the password for the user called "Administrator" for your Windows VMs.
  * The default option is to **Use the Windows default password**, which randomizes the password for this user and the password is not retrievable by an operator.
  * **Set the password** will set the *same* password for the user called "Administrator" for every Windows cell; this can be used to access any Windows cell (e.g. RDP sessions).

1. (Optional) Select the **BETA: Enable BOSH-native SSH support on all VMs** checkbox to start the Microsoft beta port of the OpenSSH daemon on port 22 on all VMs. Users can SSH onto Windows VMs with the `bosh ssh` command, and enter a CMD terminal as an admin user. They can then run `powershell.exe` to start a PowerShell session.

    <p class="note"><strong>Note</strong>: This feature is beta and not considered production-ready.</p>

1. (Optional) If you want all VMs to support connection through Remote Desktop Protocol (RDP), click **Enable Remote Desktop Protocol**.

1. (Optional) If you want to configure a Key Management Service (KMS) that your volume-licensed Windows cell can register with, perform the following steps:
    1. Click **Enable**
    2. For the **Host** field, enter the KMS hostname.
    3. For the **Port** field, enter the port number. The default port number is `1688`.

    ![The enable KMS text fields: host and port](enable-kms.png)

1. (Optional) To deploy your PASW app workloads to an isolation segment, click **Application Containers** and perform the steps in the [Assign a Tile to an Isolation Segment](./isolation.html#assign-isolation) section below.

1. (Optional) To configure Windows cells to send Windows Event logs to an external syslog server, click **System Logging** and perform the steps in the [Send Cell Logs to a Syslog Server](./troubleshooting.html#syslog) section.

1. Click **Errands**. Pivotal recommends that you set the **Install HWC Buildpack Errand** to **On**. This ensures that you receive the most up-to-date HWC Buildpack.

    <%= image_tag('errands-hwc.png') %>

1. Click **Save**.

##<a id='resources'></a> Step 4: Configure Tile Resources

To configure your tile resources, perform the following steps:

1. Navigate to the **Resource Config** pane of the PASW tile.
1. Use the dropdown menus to configure **Windows Diego Cell**.
For more information, see [Disk Size of Windows Diego Cells](#disk).
1. Click **Save**.

<p class="note"><strong>Note:</strong> Provision your <strong>Master Compilation Job</strong> with
  the minumum disk space for your IaaS as follows:<br>
  <strong>&#8226; AWS</strong>: 128&nbsp;GB<br>
  <strong>&#8226; Azure</strong>: 100&nbsp;GB<br>
  <strong>&#8226; GCP</strong>: 100&nbsp;GB<br>
  <strong>&#8226; vSphere</strong>: 128&nbsp;GB
</p>

### <a name='disk'></a> Disk Size of Windows Diego Cells

Before configuring the disk size of your Windows Diego cells,
review the information below:

* **Windows stemcells v1709.13 and later in the 1709 line** support ephemeral disks.
If your PASW deployment is based on one of these stemcells,
the recommended disk size for your Windows Diego cells is as follows:
  <table>
    <tr>
      <th>IaaS</th>
      <th>Disk size of Windows Diego cell</th>
    </tr>
    <tr>
      <th>AWS</th>
      <td>100 GB</td>
    </tr>
    <tr>
      <th>Azure</th>
      <td>150 GB</td>
    </tr>
    <tr>
      <th>GCP</th>
      <td>150 GB</td>
    </tr>
    <tr>
      <th>vSphere</th>
      <td>100 GB</td>
    </tr>
  </table>
  <p class='note'><strong>Note:</strong> If you use vSphere, you must create your own stemcell.
  The default root disk size of Windows stemcell v1709.13 and later in the 1709 line is 30 GB.
  Pivotal recommends setting the root disk size of your Windows stemcell for vSphere to 30 GB.
  For more information, see <a href="create-vsphere-stemcell.html">Creating a vSphere Windows Stemcell</a>.</p>

* **Windows stemcells v1709.5 through v1709.12** do not support ephemeral disks.
The size of the root disk of your stemcell determines
the minimum root disk size of any Windows VM that the BOSH Director can create from that stemcell.
If your PAS for Windows deployment is based on one of these stemcells,
ensure that **Windows Diego Cell** has a minimum disk size according to the table below.
  <table id='disk-sizes' border="1" class="nice" >
    <tr>
      <th>IaaS</th>
      <th>Disk size of Windows stemcell v1709.5-v1709.12</th>
    <tr>
      <th>AWS</th>
      <td>128 GB</td>
    </tr>
    <tr>
      <th>Azure</th>
      <td>30 GB</td>
    </tr>
    <tr>
      <th>GCP</th>
      <td>100 GB</td>
    </tr>
    <tr>
      <th>vSphere</th>
      <td>Recommended 128 GB+</td>
    </tr>
  </table>

    <p class='note'><strong>Note:</strong> Because you create your own stemcell on vSphere,
    you can control its root disk size.</p>

##<a id='stemcells'></a> Step 5: Upload the Stemcell

1. On the Ops Manager Installation Dashboard, in **Pivotal Application Service for Windows**, click on **Missing Stemcell**. You will be taken to the **Stemcell Library.**

1. Retrieve the stemcell that you downloaded or created in [Downloading or Creating a Windows Stemcell](./stemcells.html).

1. Follow the steps in [Importing and Managing Stemcells](../opsguide/managing-stemcells.html) to upload the Windows stemcell to **Pivotal Application Service for Windows.**

##<a id='deploy'></a> Step 6: Deploy the Tile

1. Return to the Ops Manager Installation Dashboard and click **Apply Changes** to install the PASW tile.


##<a id='copy'></a> Step 7: (Optional) Create More Tiles

If you want to run Windows cells in multiple isolation segments, you must create and configure additional PASW tiles. See [Windows Cells in Isolation Segments](./isolation.html) for how to do this.
